<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>图片压缩</title>
	</head>
	<body>
		<input type="file" multiple="multiple"/>
	</body>
	<script src="dist/compressImage.min.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		function fun(e){
			var ci=new CompressImage({
				files:this.files,
				outConfig:{
					isAutoName:false,
					limit_size:1*1024*100
				},
				done:function(files,err){
					if(err)
					{
						console.error(err);
						return;
					}
					console.log(files);
					console.log("压缩完成！")
				},
				progress:function(compFile){
					console.info("当前压缩进度为："+(compFile/this.files.length*100).toFixed(2)+"%");
				}
			});
			ci.start();
		}
		document.querySelector('input[type="file"]').onchange=fun;
		
	</script>
</html>
